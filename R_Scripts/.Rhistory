read_all <- function(type = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
x_short <- substr(x, 1, nchar(x)-4)
assign(paste(x_short, ), read.dbf(file = paste0(path, x)),
envir = .GlobalEnv)
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
assign(paste(type, "_", file_short),
read.dbf(file = paste0(path, file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
walk(archivos, read_file)
}
do.call("mean", 1:2)
do.call("mean", list(1:2))
ff <- switch("csv",
"csv" = mean())
ff <- switch("csv",
"csv" = mean)
ff(1:2)
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
read.fun <- switch(substr(file, nchar(file)-3, nchar(file)),
"csv" = readr::read_csv,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf))
assign(paste(name, "_", file_short),
read.fun(paste0(path, file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
walk(archivos, read_file)
}
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
read.fun <- switch(substr(file, nchar(file)-3, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf))
assign(paste(name, "_", file_short),
read.fun(paste0(path, file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
walk(archivos, read_file)
}
read_all(name = "od", file.path = "C:\\Users\\jos\\Desktop\\TESIS\\DatosParaTrabajar\\REDMET")
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
read.fun <- switch(substr(file, nchar(file)-3, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste(name, "_", file_short),
read.fun(paste0(path, file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
walk(archivos, read_file)
}
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
browser()
read.fun <- switch(substr(file, nchar(file)-3, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste(name, "_", file_short),
read.fun(paste0(path, file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
walk(archivos, read_file)
}
read_all(name = "od", file.path = "C:\\Users\\jos\\Desktop\\TESIS\\DatosParaTrabajar\\REDMET")
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
browser()
read.fun <- switch(substr(file, nchar(file)-3, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste(name, "_", file_short),
read.fun(paste0(path, file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
purrr::walk(archivos, read_file)
}
read_all(name = "od", file.path = "C:\\Users\\jos\\Desktop\\TESIS\\DatosParaTrabajar\\REDMET")
read.fun
substr(file, nchar(file)-3, nchar(file))
substr(file, nchar(file)-4, nchar(file))
substr(file, nchar(file)-5, nchar(file))
substr(file, nchar(file)-2, nchar(file))
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
browser()
read.fun <- switch(substr(file, nchar(file)-2, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste(name, "_", file_short),
read.fun(paste0(path, file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
purrr::walk(archivos, read_file)
}
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
read.fun <- switch(substr(file, nchar(file)-2, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste(name, "_", file_short),
read.fun(paste0(path, file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
purrr::walk(archivos, read_file)
}
read_all(name = "od", file.path = "C:\\Users\\jos\\Desktop\\TESIS\\DatosParaTrabajar\\REDMET")
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
read.fun <- switch(substr(file, nchar(file)-2, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste0(name, "_", file_short),
read.fun(paste0(path, file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
purrr::walk(archivos, read_file)
}
read_all(name = "od", file.path = "C:\\Users\\jos\\Desktop\\TESIS\\DatosParaTrabajar\\REDMET")
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
browser()
file_short <- substr(file, 1, nchar(file)-4)
read.fun <- switch(substr(file, nchar(file)-2, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste0(name, "_", file_short),
read.fun(paste0(path, file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
purrr::walk(archivos, read_file)
}
read_all(name = "od", file.path = "C:\\Users\\jos\\Desktop\\TESIS\\DatosParaTrabajar\\REDMET")
read.fun
paste0(name, "_", file_short)
paste0(path, file)
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
read.fun <- switch(substr(file, nchar(file)-2, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste0(name, "_", file_short),
read.fun(paste0(file.path, file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
purrr::walk(archivos, read_file)
}
read_all(name = "od", file.path = "C:\\Users\\jos\\Desktop\\TESIS\\DatosParaTrabajar\\REDMET")
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
browser()
read.fun <- switch(substr(file, nchar(file)-2, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste0(name, "_", file_short),
read.fun(paste0(file.path, file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
purrr::walk(archivos, read_file)
}
read_all(name = "od", file.path = "C:\\Users\\jos\\Desktop\\TESIS\\DatosParaTrabajar\\REDMET")
read_all(name = "od", file.path = "C:\\Users\\jos\\Desktop\\TESIS\\DatosParaTrabajar\\REDMET")
paste0(name, "_", file_short)
paste0(file.path, file)
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
browser()
read.fun <- switch(substr(file, nchar(file)-2, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste0(name, "_", file_short),
read.fun(paste0(file.path, file, "/")),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
purrr::walk(archivos, read_file)
}
read_all(name = "od", file.path = "C:\\Users\\jos\\Desktop\\TESIS\\DatosParaTrabajar\\REDMET")
paste0(file.path, file, "/")
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
browser()
read.fun <- switch(substr(file, nchar(file)-2, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste0(name, "_", file_short),
read.fun(paste0(file.path, "/",file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
purrr::walk(archivos, read_file)
}
read_all(name = "od", file.path = "C:\\Users\\jos\\Desktop\\TESIS\\DatosParaTrabajar\\REDMET")
read_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/REDDA") {
read_file <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
read.fun <- switch(substr(file, nchar(file)-2, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste0(name, "_", file_short),
read.fun(paste0(file.path, "/",file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
purrr::walk(archivos, read_file)
}
read_all(name = "od", file.path = "C:\\Users\\jos\\Desktop\\TESIS\\DatosParaTrabajar\\REDMET")
read_assign_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/10REDDA") {
read_assign <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
read.fun <- switch(substr(file, nchar(file)-2, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste0(name, "_", file_short),
read.fun(paste0(file.path, "/",file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
purrr::walk(archivos, read_file)
}
read_assign_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/10REDDA") {
read_assign <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
read.fun <- switch(substr(file, nchar(file)-2, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste0(name, "_", file_short),
read.fun(paste0(file.path, "/",file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
purrr::walk(archivos, read_assign)
}
read_assign_all <- function(name = "redda", file.path = "/Users/Vanessa/Desktop/Datos_Excel/10REDDA") {
read_assign <- function(file){
file_short <- substr(file, 1, nchar(file)-4)
read.fun <- switch(substr(file, nchar(file)-2, nchar(file)),
"csv" = readr::read_csv,
"rds" = readRDS,
"xls" = gdata::read.xls,
"dbf" = foreign::read.dbf)
assign(paste0(name, "_", file_short),
read.fun(paste0(file.path, "/",file)),
envir = .GlobalEnv)
}
archivos <- list.files(path = file.path)
purrr::walk(archivos, read_assign)
}
read_assign_all(name = "rama", file.path = "/Users/Vanessa/Desktop/Datos_Excel/RAMA")
read_assign_all(name = "rama", file.path = "C:/Users/jos/Desktop/TESIS/DatosParaTrabajar/REDMET")
c <- lom:la
library(dplyr)
mtcars_df %>% tidyr::gather_("key", "val", setdiff(names(.), "cyl"))
mtcars_df <- head(mtcars[, c("mpg", "hp", "cyl")])
mtcars_df %>% tidyr::gather_("key", "val", setdiff(names(.), "cyl"))
View(mtcars_df)
setdiff(names(mtcars), "cyl")
setdiff(names(mtcars_df), "cyl")
mtcars_df %>% tidyr::gather_("key", "val", setdiff(names(.), "cyl"))
gsub(".*\\b(?:(\\d+)[-\\s][Pp]ack|(?:[Pp]ack|[Ss]et)\\s?(?:of\\s)?(\\d+)).*", "\\1 \\2", "inflow100 pack6 distance12", perl=TRUE
)
grep("20", "rama_2010CO")
strsplit("rama_2010CO")
strsplit("rama_2010CO", 1)
strsplit("rama_2010CO", nchar("rama_2010CO"))
strsplit("rama_2010CO", "")
strsplit("rama_2010CO", "") %>% unlist
grepl("1", strsplit("rama_2010CO", "") %>% unlist)
grepl("1", strsplit("rama_2010CO", "") %>% unlist) %>% match
grepl("1", strsplit("rama_2010CO", "") %>% unlist) %>% which
grepl("1", strsplit("rama_2010CO", "") %>% unlist) %>% which + 2
"x" <- 0
x
ls()
grep("rama", ls())
ls()[grep("rama", ls())]
parse(text = "mtcars") %>% eval
c("mtcars", "mtcars")
objs <- c("mtcars", "mtcars")
parse(text = objs) %>% eval
ll <- parse(text = objs) %>% eval
View(ll)
objs <- c("mtcars", "mtcars_df")
ll <- parse(text = objs) %>% eval
names_all <- function(pattern){
objs <- ls(envir = .GlobalEnv)[grep(pattern, ls(envir = .GlobalEnv))]
objs_list <- purrr::map_chr(objs, function(x) parse(text = objs) %>% eval)
purrr::walk(objs_list, names)
}
names_all("rama")
names_all <- function(pattern){
objs <- ls(envir = .GlobalEnv)[grep(pattern, ls(envir = .GlobalEnv))]
objs_list <- purrr::map_chr(objs, function(x) parse(text = x) %>% eval)
purrr::walk(objs_list, names)
}
names_all("rama")
names_all <- function(pattern){
browser()
objs <- ls(envir = .GlobalEnv)[grep(pattern, ls(envir = .GlobalEnv))]
objs_list <- purrr::map_chr(objs, function(x) parse(text = x) %>% eval)
purrr::walk(objs_list, names)
}
names_all("rama")
objs
purrr::map_chr(objs, function(x) parse(text = x) %>% eval)
purrr::map(objs, function(x) parse(text = x) %>% eval)
names_all <- function(pattern){
browser()
objs <- ls(envir = .GlobalEnv)[grep(pattern, ls(envir = .GlobalEnv))]
objs_list <- purrr::map(objs, function(x) parse(text = x) %>% eval)
purrr::walk(objs_list, names)
}
names_all <- function(pattern){
browser()
objs <- ls(envir = .GlobalEnv)[grep(pattern, ls(envir = .GlobalEnv))]
purrr::map(objs, function(x) parse(text = x) %>% eval %>% names)
}
names_all("rama")
ll<-names_all("rama")
names_all <- function(pattern){
objs <- ls(envir = .GlobalEnv)[grep(pattern, ls(envir = .GlobalEnv))]
purrr::map(objs, function(x) parse(text = x) %>% eval %>% names)
}
ll<-names_all("rama")
Reduce(ll, intersect)
Reduce(intersect, ll)
names_all("rama") %>% Reduce(x = intersect, init = .)
names_all("redma_2010") %>% Reduce(f = intersect, x = .)
Reduce(f = intersect, x = names_all("redma_2010"))
names_all("rama") %>% Reduce(f = intersect, x = .)
